{"version":3,"file":"js/987.75552295.js","mappings":"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","sources":["webpack://summary/./src/utils/util.ts","webpack://summary/./node_modules/vue-loader/dist/index.js","webpack://summary/./src/views/user/Register.vue"],"sourcesContent":["import type { ObjectType } from \"@/types/request\";\r\n\r\n// 时间修理\r\nexport function timeFix() {\r\n  const time = new Date();\r\n  const hour = time.getHours();\r\n  return hour < 9\r\n    ? \"早上好\"\r\n    : hour <= 11\r\n    ? \"上午好\"\r\n    : hour <= 13\r\n    ? \"中午好\"\r\n    : hour < 20\r\n    ? \"下午好\"\r\n    : \"晚上好\";\r\n}\r\n\r\n/**\r\n * 触发 window.resize\r\n */\r\nexport function triggerWindowResizeEvent() {\r\n  const event = document.createEvent(\"HTMLEvents\");\r\n  event.initEvent(\"resize\", true, true);\r\n  // event.eventType = \"message\";\r\n  window.dispatchEvent(event);\r\n}\r\n\r\n// 密码难度评分\r\nexport function scorePassword(pass: string) {\r\n  let score = 0;\r\n  if (!pass) {\r\n    return score;\r\n  }\r\n  // award every unique letter until 5 repetitions\r\n  const letters: ObjectType = {};\r\n  for (let i = 0; i < pass.length; i++) {\r\n    letters[pass[i]] = ((letters[pass[i]] || 0) as number) + 1;\r\n    score += 5.0 / (letters[pass[i]] as number);\r\n  }\r\n\r\n  // bonus points for mixing it up\r\n  const variations: ObjectType = {\r\n    digits: /\\d/.test(pass),\r\n    lower: /[a-z]/.test(pass),\r\n    upper: /[A-Z]/.test(pass),\r\n    nonWords: /\\W/.test(pass),\r\n  };\r\n\r\n  let variationCount = 0;\r\n  for (const check in variations) {\r\n    variationCount += variations[check] === true ? 1 : 0;\r\n  }\r\n  score += (variationCount - 1) * 10;\r\n\r\n  return score;\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2699d05f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"login-form\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"用户注册\", -1))\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 强度：\")\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"margin-top\":\"10px\"} }, [\n  /*#__PURE__*/_createElementVNode(\"span\", null, \"请至少输入 8 个字符。请不要使用容易被猜到的密码。\")\n], -1))\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"注册\")\nconst _hoisted_7 = { class: \"register\" }\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"使用已有账户登录\")\n\nimport { computed, defineComponent, reactive, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ElMessage, ElNotification } from \"element-plus\";\r\nimport { InternalRuleItem } from \"async-validator\";\r\nimport type { FormInstance, FormRules } from \"element-plus\";\r\nimport type { AxiosError } from \"axios\";\r\n\r\nimport { getSmsCaptcha } from \"@/api/user/login\";\r\nimport { scorePassword } from \"@/utils/util\";\r\nimport type { ResponseType, ObjectType } from \"@/types/request\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Register',\n  setup(__props) {\n\r\ndefineComponent({ name: \"RegisterView\" });\r\n\r\nconst router = useRouter();\r\nconst registerRef = ref<FormInstance>();\r\n\r\nconst levelNames = [\"最低\", \"低\", \"中\", \"强\"];\r\nconst levelClass = [\"error\", \"error\", \"warning\", \"success\"];\r\nconst levelColor = [\"#ff0000\", \"#ff0000\", \"#ff7e05\", \"#52c41a\"];\r\n\r\nconst registerForm = reactive({\r\n  username: \"\",\r\n  password: \"\",\r\n  password2: \"\",\r\n  phone: \"\",\r\n  captcha: \"\",\r\n});\r\nconst state = reactive({\r\n  passwordLevelChecked: false,\r\n  passwordLevel: 0,\r\n  percent: 10,\r\n  time: 60,\r\n  smsSendBtn: false,\r\n});\r\nconst registerBtn = ref(false);\r\n\r\nconst passwordLevelClass = computed(() => {\r\n  return levelClass[state.passwordLevel];\r\n});\r\nconst passwordLevelName = computed(() => {\r\n  return levelNames[state.passwordLevel];\r\n});\r\nconst passwordLevelColor = computed(() => {\r\n  return levelColor[state.passwordLevel];\r\n});\r\n\r\nconst handlePasswordLevel = (\r\n  rule: InternalRuleItem,\r\n  value: string,\r\n  callback: (error?: string | Error | undefined) => void\r\n) => {\r\n  if (value === \"\") {\r\n    return callback();\r\n  }\r\n  if (value.length >= 6) {\r\n    if (scorePassword(value) >= 30) {\r\n      state.passwordLevel = 1;\r\n    }\r\n    if (scorePassword(value) >= 60) {\r\n      state.passwordLevel = 2;\r\n    }\r\n    if (scorePassword(value) >= 80) {\r\n      state.passwordLevel = 3;\r\n    }\r\n  } else {\r\n    state.passwordLevel = 0;\r\n    callback(new Error(\"密码强度不够\"));\r\n  }\r\n  state.percent = state.passwordLevel * 33;\r\n  callback();\r\n};\r\n\r\nconst handlePasswordCheck = (\r\n  rule: InternalRuleItem,\r\n  value: string,\r\n  callback: (error?: string | Error | undefined) => void\r\n) => {\r\n  if (value === \"\") {\r\n    callback(new Error(\"请确认登录密码\"));\r\n  } else if (value !== registerForm.password) {\r\n    callback(new Error(\"两次输入的密码不一致\"));\r\n  } else {\r\n    callback();\r\n  }\r\n};\r\n\r\nconst handlePhoneCheck = (\r\n  rule: InternalRuleItem,\r\n  value: string,\r\n  callback: (error?: string | Error | undefined) => void\r\n) => {\r\n  callback();\r\n};\r\n\r\nconst handleRegister = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return;\r\n  formEl.validate((valid) => {\r\n    if (valid) {\r\n      registerBtn.value = true;\r\n      router.push({ name: \"RegisterResult\", params: { ...registerForm } });\r\n    }\r\n  });\r\n};\r\n\r\nconst loginRules = reactive<FormRules>({\r\n  username: [\r\n    { required: true, message: \"用户名不能为空\", trigger: \"blur\" },\r\n    {\r\n      min: 3,\r\n      max: 16,\r\n      message: \"长度在 3 到 16 个字符\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  password: [\r\n    { required: true, message: \"请输入登录密码\", trigger: \"blur\" },\r\n    { min: 6, max: 16, message: \"密码长度限制在6到16个字符\", trigger: \"blur\" },\r\n    {\r\n      validator: handlePasswordLevel,\r\n      trigger: \"change\",\r\n    },\r\n  ],\r\n  password2: [\r\n    { required: true, message: \"请输入登录密码\", trigger: \"blur\" },\r\n    { min: 6, max: 16, message: \"密码长度限制在6到16个字符\", trigger: \"blur\" },\r\n    {\r\n      validator: handlePasswordCheck,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  phone: [\r\n    {\r\n      required: true,\r\n      pattern: /^1[3456789]\\d{9}$/,\r\n      message: \"请输入正确的手机号\",\r\n      trigger: \"blur\",\r\n    },\r\n    {\r\n      validator: handlePhoneCheck,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  captcha: [\r\n    {\r\n      required: true,\r\n      message: \"请输入验证码\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n});\r\n\r\nconst getCaptcha = async (e: Event, formEl: FormInstance | undefined) => {\r\n  e.preventDefault();\r\n\r\n  if (!formEl) return;\r\n  formEl.validateField(\"phone\", (isValid) => {\r\n    if (isValid) {\r\n      state.smsSendBtn = true;\r\n      const interval = window.setInterval(() => {\r\n        if (state.time-- <= 0) {\r\n          state.time = 60;\r\n          state.smsSendBtn = false;\r\n          window.clearInterval(interval);\r\n        }\r\n      }, 1000);\r\n\r\n      getSmsCaptcha({ phone: registerForm.phone })\r\n        .then((res) => {\r\n          ElMessage({\r\n            message: \"验证码发送中..\",\r\n            type: \"success\",\r\n          });\r\n          ElNotification({\r\n            title: \"成功\",\r\n            message: \"验证码获取成功，您的验证码为：\" + res.data.result.captcha,\r\n            type: \"success\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          clearInterval(interval);\r\n          state.time = 60;\r\n          state.smsSendBtn = false;\r\n          requestFailed(err);\r\n        });\r\n    }\r\n  });\r\n};\r\n\r\nconst requestFailed = (err: AxiosError<ResponseType<ObjectType>>) => {\r\n  ElNotification({\r\n    title: \"错误\",\r\n    message:\r\n      ((err.response || {}).data || {}).message || \"请求出现错误，请稍后再试\",\r\n    type: \"error\",\r\n  });\r\n  registerBtn.value = false;\r\n};\r\n\r\nconst jumpLogin = () => {\r\n  router.push({ name: \"Login\" });\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_progress = _resolveComponent(\"el-progress\")!\n  const _component_el_popover = _resolveComponent(\"el-popover\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_row, { class: \"login\" }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_col, {\n          xs: 24,\n          sm: 10,\n          class: \"login-left\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, [\n              _hoisted_3,\n              _createVNode(_component_el_form, {\n                ref_key: \"registerRef\",\n                ref: registerRef,\n                model: registerForm,\n                rules: loginRules\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_form_item, { prop: \"username\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_input, {\n                        modelValue: registerForm.username,\n                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((registerForm.username) = $event)),\n                        placeholder: \"请输入用户名\",\n                        autocomplete: \"false\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_popover, {\n                    placement: \"right-start\",\n                    trigger: \"click\",\n                    width: 240\n                  }, {\n                    reference: _withCtx(() => [\n                      _createVNode(_component_el_form_item, { prop: \"password\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_el_input, {\n                            modelValue: registerForm.password,\n                            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((registerForm.password) = $event)),\n                            placeholder: \"请输入密码\",\n                            type: \"password\",\n                            autocomplete: \"off\",\n                            \"show-password\": \"\"\n                          }, null, 8, [\"modelValue\"])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"div\", {\n                          class: _normalizeClass(['user-register', _unref(passwordLevelClass)])\n                        }, [\n                          _hoisted_4,\n                          _createElementVNode(\"span\", null, _toDisplayString(_unref(passwordLevelName)), 1)\n                        ], 2),\n                        _createVNode(_component_el_progress, {\n                          percentage: state.percent,\n                          color: _unref(passwordLevelColor),\n                          \"show-text\": false,\n                          \"stroke-width\": 8\n                        }, null, 8, [\"percentage\", \"color\"]),\n                        _hoisted_5\n                      ])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_form_item, { prop: \"password2\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_input, {\n                        modelValue: registerForm.password2,\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((registerForm.password2) = $event)),\n                        placeholder: \"请确认密码\",\n                        type: \"password\",\n                        autocomplete: \"off\",\n                        \"show-password\": \"\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_form_item, { prop: \"phone\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_input, {\n                        modelValue: registerForm.phone,\n                        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((registerForm.phone) = $event)),\n                        placeholder: \"请输入手机号\",\n                        autocomplete: \"false\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_row, { gutter: 16 }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_col, { span: 16 }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_el_form_item, { prop: \"captcha\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_el_input, {\n                                modelValue: registerForm.captcha,\n                                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((registerForm.captcha) = $event)),\n                                placeholder: \"请输入验证码\",\n                                autocomplete: \"false\"\n                              }, null, 8, [\"modelValue\"])\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_el_col, { span: 8 }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_el_button, {\n                            type: \"primary\",\n                            disabled: state.smsSendBtn,\n                            onClick: _cache[5] || (_cache[5] = _withModifiers(($event: any) => (getCaptcha($event, registerRef.value)), [\"stop\",\"prevent\"])),\n                            textContent: _toDisplayString(\r\n                    (!state.smsSendBtn && '获取验证码') || state.time + ' s'\r\n                  )\n                          }, null, 8, [\"disabled\", \"textContent\"])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_button, {\n                    type: \"primary\",\n                    class: \"register-button\",\n                    loading: registerBtn.value,\n                    disabled: registerBtn.value,\n                    onClick: _cache[6] || (_cache[6] = _withModifiers(($event: any) => (handleRegister(registerRef.value)), [\"stop\",\"prevent\"]))\n                  }, {\n                    default: _withCtx(() => [\n                      _hoisted_6\n                    ]),\n                    _: 1\n                  }, 8, [\"loading\", \"disabled\"])\n                ]),\n                _: 1\n              }, 8, [\"model\", \"rules\"]),\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createVNode(_component_el_link, {\n                  type: \"primary\",\n                  underline: false,\n                  onClick: jumpLogin\n                }, {\n                  default: _withCtx(() => [\n                    _hoisted_8\n                  ]),\n                  _: 1\n                })\n              ])\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_col, {\n          span: 14,\n          class: \"login-right hidden-xs-only\"\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./Register.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Register.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=2699d05f&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\summary\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2699d05f\"]])\n\nexport default __exports__"],"names":["timeFix","time","Date","hour","getHours","scorePassword","pass","score","letters","i","length","variations","digits","test","lower","upper","nonWords","variationCount","check","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_createTextVNode","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","defineComponent","name","router","useRouter","registerRef","ref","levelNames","levelClass","levelColor","registerForm","reactive","username","password","password2","phone","captcha","state","passwordLevelChecked","passwordLevel","percent","smsSendBtn","registerBtn","passwordLevelClass","computed","passwordLevelName","passwordLevelColor","handlePasswordLevel","rule","value","callback","Error","handlePasswordCheck","handlePhoneCheck","handleRegister","formEl","validate","valid","push","params","loginRules","required","message","trigger","min","max","validator","pattern","getCaptcha","async","e","preventDefault","validateField","isValid","interval","window","setInterval","clearInterval","getSmsCaptcha","then","res","ElMessage","type","ElNotification","title","data","result","catch","err","requestFailed","response","jumpLogin","_ctx","_cache","_component_el_input","_resolveComponent","_component_el_form_item","_component_el_progress","_component_el_popover","_component_el_col","_component_el_button","_component_el_row","_component_el_form","_component_el_link","_openBlock","_createElementBlock","_createVNode","default","_withCtx","xs","sm","ref_key","model","rules","prop","modelValue","$event","placeholder","autocomplete","_","placement","width","reference","_normalizeClass","_unref","_toDisplayString","percentage","color","gutter","span","disabled","onClick","_withModifiers","textContent","loading","underline","__exports__"],"sourceRoot":""}