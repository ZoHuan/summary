"use strict";(self["webpackChunksummary"]=self["webpackChunksummary"]||[]).push([[692,663,564],{7094:function(e,l,a){a.d(l,{Z:function(){return o}});var t=a(4870),u=a(6900);function o(){const e={children:"children",label:"name",value:"id"},l={children:"children",label:e=>e.meta.title,value:"id"},a=(0,t.iH)(),o=(0,t.iH)(),d=(0,t.iH)(),n=()=>{(0,u.E$)().then((e=>{a.value=e.data.result}))},i=()=>{(0,u.JV)().then((e=>{o.value=e.data.result}))},r=()=>{(0,u.Af)().then((e=>{d.value=e.data.result}))};return{departmentProps:e,menuProps:l,departmentList:a,roleList:o,menuList:d,getDepartmentData:n,getRoleData:i,getMenuData:r}}},8663:function(e,l,a){a.r(l),a.d(l,{default:function(){return w}});var t=a(3396),u=a(7139),o=a(4870),d=a(2748);const n=(0,t.Uk)("请选择图标"),i={class:"icon-container"},r={class:"icon-wrapper"},m=["onClick"],p={class:"label-name"};var s=(0,t.aZ)({__name:"IconSelector",props:{icon:null},emits:["onSelect"],setup(e,{emit:l}){const a=e,s=Object.keys(d),c=36,f=(0,o.iH)(1),w=(0,o.iH)(s.length),b=(0,o.iH)(),h=(0,o.iH)(),g=(0,o.iH)(s.slice(0,c));function _(e){l("onSelect",e),b.value.hide()}(0,t.YP)((()=>a.icon),(e=>{h.value=e}),{immediate:!0});const v=e=>{f.value=e,g.value=s.slice((e-1)*c,e*c)};return(e,l)=>{const a=(0,t.up)("el-button"),o=(0,t.up)("el-icon"),d=(0,t.up)("el-col"),s=(0,t.up)("el-row"),V=(0,t.up)("el-pagination"),W=(0,t.up)("el-popover");return(0,t.wg)(),(0,t.j4)(W,{ref_key:"iconPopover",ref:b,trigger:"click",width:386},{reference:(0,t.w5)((()=>[h.value?((0,t.wg)(),(0,t.j4)(a,{key:1,plain:""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(h.value)))])),_:1})])),_:1})):((0,t.wg)(),(0,t.j4)(a,{key:0},{default:(0,t.w5)((()=>[n])),_:1}))])),default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("div",r,[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.value,(e=>((0,t.wg)(),(0,t.j4)(d,{span:4,key:e},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"icon-item",onClick:l=>_(e)},[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e)))])),_:2},1024),(0,t._)("div",p,(0,u.zw)(e),1)],8,m)])),_:2},1024)))),128))])),_:1})]),(0,t.Wm)(V,{small:"","page-size":c,"current-page":f.value,total:w.value,layout:"prev, pager, next",onCurrentChange:v},null,8,["current-page","total"])])])),_:1},512)}}}),c=a(89);const f=(0,c.Z)(s,[["__scopeId","data-v-e179aaa4"]]);var w=f},692:function(e,l,a){a.r(l),a.d(l,{default:function(){return W}});var t=a(3396),u=a(7139),o=a(4870),d=a(2655),n=a(7178),i=a(6900),r=a(6564);const m=(0,t.Uk)("查询"),p=(0,t.Uk)("重置"),s={class:"table-operator"},c=(0,t.Uk)(" 新建 "),f={key:0},w={key:1},b={key:2},h=(0,t.Uk)(" 是 "),g=(0,t.Uk)("否");var _=(0,t.aZ)({__name:"Menu",setup(e){(0,t.aZ)({name:"MenuView"});const l=(0,o.iH)(),a=(0,o.qj)({title:"",path:""}),_=(0,o.qj)([{label:"菜单名称",prop:"meta",meta:"title",width:"180"},{label:"菜单编号",prop:"name",width:"140"},{label:"菜单地址",prop:"path",width:"180"},{label:"菜单页面路径",prop:"component",width:"280"},{label:"重定向页面",prop:"redirect",width:"280"},{label:"图标",prop:"meta",meta:"icon",width:"100"},{label:"是否隐藏",prop:"meta",meta:"hidden",width:"100"},{label:"是否固定",prop:"meta",meta:"affix",width:"100"},{label:"是否缓存",prop:"meta",meta:"cache",width:"100"},{label:"操作",prop:"actions",width:"140",fixed:"right"}]),v=(0,o.iH)(),V=(0,o.iH)(!1),W=(0,o.iH)(""),k=(0,o.iH)();(0,t.bv)((()=>{y()}));const y=()=>{(0,i.Af)(a).then((e=>{v.value=e.data.result}))},U=()=>{y()},j=()=>{l.value&&l.value.resetFields()},x=()=>{V.value=!0,W.value="添加菜单"},C=e=>{V.value=e},H=e=>{V.value=!0,W.value="编辑菜单",k.value=JSON.parse(JSON.stringify(e))},D=()=>{d.T.confirm("确定要删除此信息，删除后不可恢复？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{n.z8.success("删除菜单成功！")}))};return(e,o)=>{const d=(0,t.up)("el-input"),n=(0,t.up)("el-form-item"),i=(0,t.up)("el-col"),q=(0,t.up)("el-button"),z=(0,t.up)("el-row"),L=(0,t.up)("el-form"),S=(0,t.up)("Plus"),I=(0,t.up)("el-icon"),T=(0,t.up)("el-table-column"),Z=(0,t.up)("el-tag"),P=(0,t.up)("el-table"),F=(0,t.up)("el-card");return(0,t.wg)(),(0,t.j4)(F,null,{default:(0,t.w5)((()=>[(0,t.Wm)(L,{model:a,inline:!0,ref_key:"queryForm",ref:l},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{gutter:48},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"菜单名称：",prop:"title"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:a.title,"onUpdate:modelValue":o[0]||(o[0]=e=>a.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(i,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"菜单地址：",prop:"path"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:a.path,"onUpdate:modelValue":o[1]||(o[1]=e=>a.path=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(i,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(q,{type:"primary",onClick:U},{default:(0,t.w5)((()=>[m])),_:1}),(0,t.Wm)(q,{onClick:j},{default:(0,t.w5)((()=>[p])),_:1})])])),_:1})])),_:1})])),_:1},8,["model"]),(0,t._)("div",s,[(0,t.Wm)(q,{type:"primary",class:"operator-button",onClick:o[2]||(o[2]=e=>x())},{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Wm)(S)])),_:1}),c])),_:1})]),(0,t.Wm)(P,{data:v.value,"row-key":"id",stripe:""},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{label:"序号",fixed:"left",width:"100","label-class-name":"table-index-label","class-name":"table-index"},{default:(0,t.w5)((e=>[(0,t.Uk)((0,u.zw)(e.$index+1),1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(_,((e,l)=>((0,t.wg)(),(0,t.j4)(T,{key:l,label:e.label,prop:e.prop,fixed:e.fixed,width:e.width,align:"center"},(0,t.Nv)({_:2},["meta"===e.prop?{name:"default",fn:(0,t.w5)((l=>["title"===e.meta?((0,t.wg)(),(0,t.iD)("span",f,(0,u.zw)(l.row.meta.title),1)):"icon"===e.meta?((0,t.wg)(),(0,t.iD)("span",w,[(0,t.Wm)(I,{size:16,class:"menuIcon"},{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(l.row.meta.icon)))])),_:2},1024)])):((0,t.wg)(),(0,t.iD)("span",b,[l.row.meta[e.meta]?((0,t.wg)(),(0,t.j4)(Z,{key:0,type:"success",effect:"dark"},{default:(0,t.w5)((()=>[h])),_:1})):((0,t.wg)(),(0,t.j4)(Z,{key:1,type:"danger",effect:"dark"},{default:(0,t.w5)((()=>[g])),_:1}))]))]))}:"actions"===e.prop?{name:"default",fn:(0,t.w5)((e=>[(0,t.Wm)(q,{type:"primary",plain:"",size:"small",disabled:e.row.disabled,onClick:l=>H(e.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("编辑")])),_:2},1032,["disabled","onClick"]),(0,t.Wm)(q,{type:"danger",plain:"",size:"small",disabled:e.row.disabled,onClick:o[3]||(o[3]=e=>D())},{default:(0,t.w5)((()=>[(0,t.Uk)("删除")])),_:2},1032,["disabled"])]))}:void 0]),1032,["label","prop","fixed","width"])))),128))])),_:1},8,["data"]),(0,t.Wm)(r["default"],{modalVisible:V.value,modalTitle:W.value,modalData:k.value,onToggleVisible:C,onRefresh:y},null,8,["modalVisible","modalTitle","modalData"])])),_:1})}}}),v=a(89);const V=(0,v.Z)(_,[["__scopeId","data-v-ede96ace"]]);var W=V},6564:function(e,l,a){a.r(l),a.d(l,{default:function(){return c}});var t=a(3396),u=a(4870),o=a(7178),d=a(7094),n=a(8663);const i={class:"custom-dialog-body scroll-bar-hidden"},r=(0,t.Uk)("取消"),m=(0,t.Uk)("确定");var p=(0,t.aZ)({__name:"MenuModal",props:{modalVisible:{type:Boolean},modalTitle:null,modalData:null},emits:["toggleVisible","refresh"],setup(e,{emit:l}){const a=e,{menuProps:p,menuList:s,getMenuData:c}=(0,d.Z)(),f=(0,u.iH)(),w=(0,u.qj)({parentId:"",name:"",path:"",component:"",redirect:"",meta:{title:"",icon:"",hidden:!1,hideChildren:!1,affix:!1,cache:!1}}),b=(0,u.qj)({"meta.title":[{required:!0,message:"请输入菜单名称！",trigger:"blur"}],name:[{required:!0,message:"请输入菜单编号！",trigger:"blur"}],path:[{required:!0,message:"请输入菜单地址！",trigger:"blur"}],component:[{required:!0,message:"请输入菜单页面路径！",trigger:"blur"}]}),h=(0,u.iH)(1),g=(0,t.Fl)({get(){return a.modalVisible},set(){v()}});(0,t.YP)((()=>a.modalData),(e=>{(0,t.Y3)((()=>{h.value=2,Object.assign(w,e)}))})),(0,t.bv)((()=>{c()}));const _=e=>{w.meta.icon=e},v=()=>{f.value?.resetFields(),h.value=1,l("toggleVisible",!1)},V=e=>{e?.validate((a=>{a&&(1===h.value?(o.z8.success("添加菜单成功！"),e.resetFields(),l("toggleVisible",!1),l("refresh")):(o.z8.success("编辑菜单成功！"),e.resetFields(),l("toggleVisible",!1),l("refresh")))}))};return(l,a)=>{const o=(0,t.up)("el-tree-select"),d=(0,t.up)("el-form-item"),c=(0,t.up)("el-input"),h=(0,t.up)("el-switch"),W=(0,t.up)("el-form"),k=(0,t.up)("el-button"),y=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(y,{modelValue:(0,u.SU)(g),"onUpdate:modelValue":a[12]||(a[12]=e=>(0,u.dq)(g)?g.value=e:null),title:e.modalTitle,width:"44%",draggable:"","close-on-click-modal":!1,"close-on-press-escape":!1,class:"custom-dialog"},{footer:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:a[10]||(a[10]=e=>v())},{default:(0,t.w5)((()=>[r])),_:1}),(0,t.Wm)(k,{onClick:a[11]||(a[11]=e=>V(f.value)),type:"primary"},{default:(0,t.w5)((()=>[m])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(W,{ref_key:"formRef",ref:f,model:w,rules:b,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"上级菜单",prop:"parentId"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{modelValue:w.parentId,"onUpdate:modelValue":a[0]||(a[0]=e=>w.parentId=e),data:(0,u.SU)(s),props:(0,u.SU)(p),"render-after-expand":!1,clearable:"","check-strictly":"",placeholder:"请选择部门"},null,8,["modelValue","data","props"])])),_:1}),(0,t.Wm)(d,{label:"菜单名称",prop:"meta.title"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:w.meta.title,"onUpdate:modelValue":a[1]||(a[1]=e=>w.meta.title=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"菜单编号",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:w.name,"onUpdate:modelValue":a[2]||(a[2]=e=>w.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"菜单地址",prop:"path"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:w.path,"onUpdate:modelValue":a[3]||(a[3]=e=>w.path=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"菜单页面路径",prop:"component"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:w.component,"onUpdate:modelValue":a[4]||(a[4]=e=>w.component=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"重定向页面",prop:"redirect"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{modelValue:w.redirect,"onUpdate:modelValue":a[5]||(a[5]=e=>w.redirect=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"图标",prop:"meta.icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(n["default"],{icon:w.meta.icon,onOnSelect:_},null,8,["icon"])])),_:1}),(0,t.Wm)(d,{label:"是否隐藏",prop:"meta.hidden"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:w.meta.hidden,"onUpdate:modelValue":a[6]||(a[6]=e=>w.meta.hidden=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"隐藏子页面",prop:"meta.hideChildren"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:w.meta.hideChildren,"onUpdate:modelValue":a[7]||(a[7]=e=>w.meta.hideChildren=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"是否固定",prop:"meta.affix"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:w.meta.affix,"onUpdate:modelValue":a[8]||(a[8]=e=>w.meta.affix=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{label:"是否缓存",prop:"meta.cache"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{modelValue:w.meta.cache,"onUpdate:modelValue":a[9]||(a[9]=e=>w.meta.cache=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}}});const s=p;var c=s}}]);
//# sourceMappingURL=692.1f71dfd1.js.map