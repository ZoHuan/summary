"use strict";(self["webpackChunksummary"]=self["webpackChunksummary"]||[]).push([[942],{2908:function(e,a,o){o(1703),function(a,o){e.exports=o()}(0,(function(){function e(e){var n=[];return e.AMapUI&&n.push(a(e.AMapUI)),e.Loca&&n.push(o(e.Loca)),Promise.all(n)}function a(e){return new Promise((function(a,o){var s=[];if(e.plugins)for(var p=0;p<e.plugins.length;p+=1)-1==l.AMapUI.plugins.indexOf(e.plugins[p])&&s.push(e.plugins[p]);if(i.AMapUI===n.failed)o("前次请求 AMapUI 失败");else if(i.AMapUI===n.notload){i.AMapUI=n.loading,l.AMapUI.version=e.version||l.AMapUI.version,p=l.AMapUI.version;var r=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+p+"/main.js",c.onerror=function(e){i.AMapUI=n.failed,o("请求 AMapUI 失败")},c.onload=function(){if(i.AMapUI=n.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var e=0,o=s.length;e<o;e++){var n=s[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}for(a();t.AMapUI.length;)t.AMapUI.splice(0,1)[0]()}));else for(a();t.AMapUI.length;)t.AMapUI.splice(0,1)[0]()},r.appendChild(c)}else i.AMapUI===n.loaded?e.version&&e.version!==l.AMapUI.version?o("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,o=s.length;e<o;e++){var n=s[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}a()})):a():e.version&&e.version!==l.AMapUI.version?o("不允许多个版本 AMapUI 混用"):t.AMapUI.push((function(e){e?o(e):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,o=s.length;e<o;e++){var n=s[e].split("/").slice(-1)[0];window.AMapUI[n]=arguments[e]}a()})):a()}))}))}function o(e){return new Promise((function(a,o){if(i.Loca===n.failed)o("前次请求 Loca 失败");else if(i.Loca===n.notload){i.Loca=n.loading,l.Loca.version=e.version||l.Loca.version;var s=l.Loca.version,p=l.AMap.version.startsWith("2"),r=s.startsWith("2");if(p&&!r||!p&&r)o("JSAPI 与 Loca 版本不对应！！");else{p=l.key,r=document.body||document.head;var c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+s+"&key="+p,c.onerror=function(e){i.Loca=n.failed,o("请求 AMapUI 失败")},c.onload=function(){for(i.Loca=n.loaded,a();t.Loca.length;)t.Loca.splice(0,1)[0]()},r.appendChild(c)}}else i.Loca===n.loaded?e.version&&e.version!==l.Loca.version?o("不允许多个版本 Loca 混用"):a():e.version&&e.version!==l.Loca.version?o("不允许多个版本 Loca 混用"):t.Loca.push((function(e){e?o(e):o()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(n||(n={}));var l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},t={AMap:[],AMapUI:[],Loca:[]},s=[],p=function(e){"function"==typeof e&&(i.AMap===n.loaded?e(window.AMap):s.push(e))};return{load:function(a){return new Promise((function(o,t){if(i.AMap==n.failed)t("");else if(i.AMap==n.notload){var r=a.key,c=a.version,u=a.plugins;r?(window.AMap&&"lbs.amap.com"!==location.host&&t("禁止多种API加载方式混用"),l.key=r,l.AMap.version=c||l.AMap.version,l.AMap.plugins=u||l.AMap.plugins,i.AMap=n.loading,c=document.body||document.head,window.___onAPILoaded=function(l){if(delete window.___onAPILoaded,l)i.AMap=n.failed,t(l);else for(i.AMap=n.loaded,e(a).then((function(){o(window.AMap)}))["catch"](t);s.length;)s.splice(0,1)[0]()},u=document.createElement("script"),u.type="text/javascript",u.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+l.AMap.version+"&key="+r+"&plugin="+l.AMap.plugins.join(","),u.onerror=function(e){i.AMap=n.failed,t(e)},c.appendChild(u)):t("请填写key")}else if(i.AMap==n.loaded)if(a.key&&a.key!==l.key)t("多个不一致的 key");else if(a.version&&a.version!==l.AMap.version)t("不允许多个版本 JSAPI 混用");else{if(r=[],a.plugins)for(c=0;c<a.plugins.length;c+=1)-1==l.AMap.plugins.indexOf(a.plugins[c])&&r.push(a.plugins[c]);r.length?window.AMap.plugin(r,(function(){e(a).then((function(){o(window.AMap)}))["catch"](t)})):e(a).then((function(){o(window.AMap)}))["catch"](t)}else if(a.key&&a.key!==l.key)t("多个不一致的 key");else if(a.version&&a.version!==l.AMap.version)t("不允许多个版本 JSAPI 混用");else{var d=[];if(a.plugins)for(c=0;c<a.plugins.length;c+=1)-1==l.AMap.plugins.indexOf(a.plugins[c])&&d.push(a.plugins[c]);p((function(){d.length?window.AMap.plugin(d,(function(){e(a).then((function(){o(window.AMap)}))["catch"](t)})):e(a).then((function(){o(window.AMap)}))["catch"](t)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,l={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},t={AMap:[],AMapUI:[],Loca:[]}}}}))},3942:function(e,a,o){o.r(a),o.d(a,{default:function(){return W}});var n=o(3396),l=o(7139),i=o(9242),t=o(4870),s=o(2908),p=o.n(s);const r=e=>((0,n.dD)("data-v-279712a9"),e=e(),(0,n.Cn)(),e),c={class:"map"},u=r((()=>(0,n._)("div",{id:"container"},null,-1))),d={class:"action-bar"},f={class:"action-list"},v={class:"action-module"},A=r((()=>(0,n._)("h3",null,"功能",-1))),M={class:"action-content"},w=["onClick"],m={class:"tool-card"},g=(0,n.Uk)("画点"),h=(0,n.Uk)("画折线"),I=(0,n.Uk)("画多边形"),k=(0,n.Uk)("画矩形"),U=(0,n.Uk)("画圆"),y={class:"tool-operation"},_=(0,n.Uk)(" 清除 "),L=(0,n.Uk)(" 关闭绘图 ");var b=(0,n.aZ)({__name:"AMAP",setup(e){const a=(0,t.XI)(),o=(0,t.iH)(),s=(0,t.iH)(!0),r=(0,t.iH)(!1),b=(0,t.iH)("marker"),C=(0,t.qj)([{title:"切换主题",icon:"icon-theme",state:!1,function:e=>{z(e)}},{title:"工具类",icon:"icon-tool",state:!1,function:e=>{j(e)}}]);(0,n.bv)((()=>{P()})),(0,n.Ah)((()=>{a.value.destroy()}));const P=()=>{p().load({key:"f00d2fe724170e22a9fa50d89871d901",version:"1.4.15",plugins:["AMap.MouseTool","AMap.HeatMap"],Loca:{version:"1.4.15"}}).then((e=>{a.value=new e.Map("container",{viewMode:"3D",zoom:11,center:[116.405285,39.904989],mapStyle:"amap://styles/blue"}),o.value=new e.MouseTool(a.value)}))},W=()=>{s.value=!s.value},z=e=>{e.state=!e.state;let o="amap://styles/"+(e.state?"normal":"blue");a.value.setMapStyle(o)},j=e=>{e.state=!e.state,r.value=e.state,e.state?(b.value="marker",x(b.value)):S()},x=e=>{switch(e){case"marker":o.value.marker({});break;case"polyline":o.value.polyline({strokeColor:"#80d8ff"});break;case"polygon":o.value.polygon({fillColor:"#00b0ff",strokeColor:"#80d8ff"});break;case"rectangle":o.value.rectangle({fillColor:"#00b0ff",strokeColor:"#80d8ff"});break;case"circle":o.value.circle({fillColor:"#00b0ff",strokeColor:"#80d8ff"});break}},H=()=>{a.value.clearMap()},S=()=>{o.value.close(!0),b.value=""};return(e,a)=>{const o=(0,n.up)("el-tooltip"),t=(0,n.up)("el-radio"),p=(0,n.up)("el-radio-group"),P=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",c,[u,(0,n._)("div",d,[(0,n.wy)((0,n._)("div",f,[(0,n._)("div",v,[A,(0,n._)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(C,((e,a)=>((0,n.wg)(),(0,n.j4)(o,{content:e.title,placement:"top",key:a},{default:(0,n.w5)((()=>[(0,n._)("div",{class:"action-item",onClick:a=>e.function(e)},[(0,n._)("i",{class:(0,l.C_)(["iconfont",e.icon])},null,2)],8,w)])),_:2},1032,["content"])))),128))])])],512),[[i.F8,s.value]]),(0,n._)("div",{class:(0,l.C_)(["arrow",s.value?"":"arrow-retraction"]),onClick:W},null,2)]),(0,n.wy)((0,n._)("div",m,[(0,n.Wm)(p,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),onChange:a[1]||(a[1]=e=>x(b.value))},{default:(0,n.w5)((()=>[(0,n.Wm)(t,{label:"marker",size:"small"},{default:(0,n.w5)((()=>[g])),_:1}),(0,n.Wm)(t,{label:"polyline",size:"small"},{default:(0,n.w5)((()=>[h])),_:1}),(0,n.Wm)(t,{label:"polygon",size:"small"},{default:(0,n.w5)((()=>[I])),_:1}),(0,n.Wm)(t,{label:"rectangle",size:"small"},{default:(0,n.w5)((()=>[k])),_:1}),(0,n.Wm)(t,{label:"circle",size:"small"},{default:(0,n.w5)((()=>[U])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",y,[(0,n.Wm)(P,{onClick:H,type:"primary",size:"small",plain:"",round:""},{default:(0,n.w5)((()=>[_])),_:1}),(0,n.Wm)(P,{onClick:S,type:"primary",size:"small",plain:"",round:""},{default:(0,n.w5)((()=>[L])),_:1})])],512),[[i.F8,r.value]])])}}}),C=o(89);const P=(0,C.Z)(b,[["__scopeId","data-v-279712a9"]]);var W=P}}]);
//# sourceMappingURL=942.4b745824.js.map