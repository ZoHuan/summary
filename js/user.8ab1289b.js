"use strict";(self["webpackChunksummary"]=self["webpackChunksummary"]||[]).push([[378,538,987,141],{6287:function(e,r,t){function a(){const e=new Date,r=e.getHours();return r<9?"早上好":r<=11?"上午好":r<=13?"中午好":r<20?"下午好":"晚上好"}function s(e){let r=0;if(!e)return r;const t={};for(let l=0;l<e.length;l++)t[e[l]]=(t[e[l]]||0)+1,r+=5/t[e[l]];const a={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)};let s=0;for(const l in a)s+=!0===a[l]?1:0;return r+=10*(s-1),r}t.d(r,{D$:function(){return a},IE:function(){return s}})},4143:function(e,r,t){t.r(r),t.d(r,{default:function(){return V}});t(1703);var a=t(3396),s=t(7139),l=t(4870),n=t(9242),o=t(678),u=t(7178),d=t(6666),p=t(7798),i=t(6287);const m=e=>((0,a.dD)("data-v-2699d05f"),e=e(),(0,a.Cn)(),e),c={class:"container"},g={class:"login-form"},w=m((()=>(0,a._)("h1",null,"用户注册",-1))),f=(0,a.Uk)(" 强度："),v=m((()=>(0,a._)("div",{style:{"margin-top":"10px"}},[(0,a._)("span",null,"请至少输入 8 个字符。请不要使用容易被猜到的密码。")],-1))),h=(0,a.Uk)("注册"),_={class:"register"},b=(0,a.Uk)("使用已有账户登录");var W=(0,a.aZ)({__name:"Register",setup(e){(0,a.aZ)({name:"RegisterView"});const r=(0,o.tv)(),t=(0,l.iH)(),m=["最低","低","中","强"],W=["error","error","warning","success"],y=["#ff0000","#ff0000","#ff7e05","#52c41a"],k=(0,l.qj)({username:"",password:"",password2:"",phone:"",captcha:""}),V=(0,l.qj)({passwordLevelChecked:!1,passwordLevel:0,percent:10,time:60,smsSendBtn:!1}),U=(0,l.iH)(!1),C=(0,a.Fl)((()=>W[V.passwordLevel])),L=(0,a.Fl)((()=>m[V.passwordLevel])),S=(0,a.Fl)((()=>y[V.passwordLevel])),q=(e,r,t)=>{if(""===r)return t();r.length>=6?((0,i.IE)(r)>=30&&(V.passwordLevel=1),(0,i.IE)(r)>=60&&(V.passwordLevel=2),(0,i.IE)(r)>=80&&(V.passwordLevel=3)):(V.passwordLevel=0,t(new Error("密码强度不够"))),V.percent=33*V.passwordLevel,t()},x=(e,r,t)=>{""===r?t(new Error("请确认登录密码")):r!==k.password?t(new Error("两次输入的密码不一致")):t()},I=(e,r,t)=>{t()},E=e=>{e&&e.validate((e=>{e&&(U.value=!0,r.push({name:"RegisterResult",params:{...k}}))}))},D=(0,l.qj)({username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:16,message:"密码长度限制在6到16个字符",trigger:"blur"},{validator:q,trigger:"change"}],password2:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:16,message:"密码长度限制在6到16个字符",trigger:"blur"},{validator:x,trigger:"blur"}],phone:[{required:!0,pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"},{validator:I,trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),R=async(e,r)=>{e.preventDefault(),r&&r.validateField("phone",(e=>{if(e){V.smsSendBtn=!0;const e=window.setInterval((()=>{V.time--<=0&&(V.time=60,V.smsSendBtn=!1,window.clearInterval(e))}),1e3);(0,p.EK)({phone:k.phone}).then((e=>{(0,u.z8)({message:"验证码发送中..",type:"success"}),(0,d.bM)({title:"成功",message:"验证码获取成功，您的验证码为："+e.data.result.captcha,type:"success"})})).catch((r=>{clearInterval(e),V.time=60,V.smsSendBtn=!1,B(r)}))}}))},B=e=>{(0,d.bM)({title:"错误",message:((e.response||{}).data||{}).message||"请求出现错误，请稍后再试",type:"error"}),U.value=!1},Z=()=>{r.push({name:"Login"})};return(e,r)=>{const o=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),d=(0,a.up)("el-progress"),p=(0,a.up)("el-popover"),i=(0,a.up)("el-col"),m=(0,a.up)("el-button"),W=(0,a.up)("el-row"),y=(0,a.up)("el-form"),q=(0,a.up)("el-link");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(W,{class:"login"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{xs:24,sm:10,class:"login-left"},{default:(0,a.w5)((()=>[(0,a._)("div",g,[w,(0,a.Wm)(y,{ref_key:"registerRef",ref:t,model:k,rules:D},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:k.username,"onUpdate:modelValue":r[0]||(r[0]=e=>k.username=e),placeholder:"请输入用户名",autocomplete:"false"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p,{placement:"right-start",trigger:"click",width:240},{reference:(0,a.w5)((()=>[(0,a.Wm)(u,{prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:k.password,"onUpdate:modelValue":r[1]||(r[1]=e=>k.password=e),placeholder:"请输入密码",type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",{class:(0,s.C_)(["user-register",(0,l.SU)(C)])},[f,(0,a._)("span",null,(0,s.zw)((0,l.SU)(L)),1)],2),(0,a.Wm)(d,{percentage:V.percent,color:(0,l.SU)(S),"show-text":!1,"stroke-width":8},null,8,["percentage","color"]),v])])),_:1}),(0,a.Wm)(u,{prop:"password2"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:k.password2,"onUpdate:modelValue":r[2]||(r[2]=e=>k.password2=e),placeholder:"请确认密码",type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{prop:"phone"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:k.phone,"onUpdate:modelValue":r[3]||(r[3]=e=>k.phone=e),placeholder:"请输入手机号",autocomplete:"false"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,{gutter:16},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{span:16},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{prop:"captcha"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:k.captcha,"onUpdate:modelValue":r[4]||(r[4]=e=>k.captcha=e),placeholder:"请输入验证码",autocomplete:"false"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(i,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"primary",disabled:V.smsSendBtn,onClick:r[5]||(r[5]=(0,n.iM)((e=>R(e,t.value)),["stop","prevent"])),textContent:(0,s.zw)(V.smsSendBtn?V.time+" s":"获取验证码")},null,8,["disabled","textContent"])])),_:1})])),_:1}),(0,a.Wm)(m,{type:"primary",class:"register-button",loading:U.value,disabled:U.value,onClick:r[6]||(r[6]=(0,n.iM)((e=>E(t.value)),["stop","prevent"]))},{default:(0,a.w5)((()=>[h])),_:1},8,["loading","disabled"])])),_:1},8,["model","rules"]),(0,a._)("div",_,[(0,a.Wm)(q,{type:"primary",underline:!1,onClick:Z},{default:(0,a.w5)((()=>[b])),_:1})])])])),_:1}),(0,a.Wm)(i,{span:14,class:"login-right hidden-xs-only"})])),_:1})])}}}),y=t(89);const k=(0,y.Z)(W,[["__scopeId","data-v-2699d05f"]]);var V=k},3191:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var a=t(3396),s=t(7139),l=t(4870),n=t.p+"img/approved.8d43e580.svg",o=t(678);const u=e=>((0,a.dD)("data-v-2cbc2e46"),e=e(),(0,a.Cn)(),e),d={class:"container"},p=u((()=>(0,a._)("img",{src:n,alt:""},null,-1))),i={class:"content"},m=(0,a.Uk)("返回首页");var c=(0,a.aZ)({__name:"RegisterResult",setup(e){const r=(0,o.yj)(),t=(0,o.tv)(),n=(0,l.qj)({username:""}),u=(0,a.Fl)((()=>{const e=n.username;return`你的账户：${e} 注册成功`}));(0,a.bv)((()=>{n.username=r.params.username}));const c=()=>{t.push({name:"Login"})};return(e,r)=>{const t=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",d,[p,(0,a._)("div",i,(0,s.zw)((0,l.SU)(u)),1),(0,a.Wm)(t,{type:"primary",class:"return-button",onClick:c},{default:(0,a.w5)((()=>[m])),_:1})])}}}),g=t(89);const w=(0,g.Z)(c,[["__scopeId","data-v-2cbc2e46"]]);var f=w}}]);
//# sourceMappingURL=user.8ab1289b.js.map