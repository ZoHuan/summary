"use strict";(self["webpackChunksummary"]=self["webpackChunksummary"]||[]).push([[766,928],{7094:function(e,l,a){a.d(l,{Z:function(){return o}});var t=a(4870),u=a(6900);function o(){const e={children:"children",label:"name",value:"id"},l={children:"children",label:e=>e.meta.title,value:"id"},a=(0,t.iH)(),o=(0,t.iH)(),n=(0,t.iH)(),r=()=>{(0,u.E$)().then((e=>{a.value=e.data.result}))},d=()=>{(0,u.JV)().then((e=>{o.value=e.data.result}))},m=()=>{(0,u.Af)().then((e=>{n.value=e.data.result}))};return{departmentProps:e,menuProps:l,departmentList:a,roleList:o,menuList:n,getDepartmentData:r,getRoleData:d,getMenuData:m}}},9766:function(e,l,a){a.r(l),a.d(l,{default:function(){return v}});var t=a(3396),u=a(7139),o=a(4870),n=a(2655),r=a(7178),d=a(6900),m=a(7928);const i=(0,t.Uk)("查询"),s=(0,t.Uk)("重置"),p={class:"table-operator"},c=(0,t.Uk)(" 新建 "),f=(0,t.Uk)("编辑"),b=(0,t.Uk)("删除");var w=(0,t.aZ)({__name:"Department",setup(e){(0,t.aZ)({name:"DepartmentView"});const l=(0,o.iH)(),a=(0,o.qj)({name:"",code:""}),w=(0,o.qj)([{label:"部门名称",prop:"name"},{label:"部门编号",prop:"code"},{label:"操作",prop:"actions"}]),g=(0,o.iH)(),v=(0,o.iH)(!1),_=(0,o.iH)(""),V=(0,o.iH)();(0,t.bv)((()=>{W()}));const W=()=>{(0,d.E$)(a).then((e=>{g.value=e.data.result}))},k=()=>{W()},h=()=>{l.value&&l.value.resetFields()},y=()=>{v.value=!0,_.value="添加部门"},U=e=>{v.value=e},D=e=>{v.value=!0,_.value="编辑部门",V.value=JSON.parse(JSON.stringify(e))},C=e=>{n.T.confirm("确定要删除此信息，删除后不可恢复？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>(0,d.X9)(e).then((e=>{r.z8.success(e.data.message),W()}))))};return(e,o)=>{const n=(0,t.up)("el-input"),r=(0,t.up)("el-form-item"),d=(0,t.up)("el-col"),H=(0,t.up)("el-button"),j=(0,t.up)("el-row"),q=(0,t.up)("el-form"),x=(0,t.up)("Plus"),T=(0,t.up)("el-icon"),z=(0,t.up)("el-table-column"),F=(0,t.up)("el-table"),P=(0,t.up)("el-card");return(0,t.wg)(),(0,t.j4)(P,null,{default:(0,t.w5)((()=>[(0,t.Wm)(q,{model:a,inline:!0,ref_key:"queryForm",ref:l},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{gutter:48},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{label:"部门名称：",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{modelValue:a.name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.name=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(d,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{label:"部门编号：",prop:"code"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{modelValue:a.code,"onUpdate:modelValue":o[1]||(o[1]=e=>a.code=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(d,{md:8,sm:24},{default:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(H,{type:"primary",onClick:k},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(H,{onClick:h},{default:(0,t.w5)((()=>[s])),_:1})])])),_:1})])),_:1})])),_:1},8,["model"]),(0,t._)("div",p,[(0,t.Wm)(H,{type:"primary",class:"operator-button",onClick:o[2]||(o[2]=e=>y())},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Wm)(x)])),_:1}),c])),_:1})]),(0,t.Wm)(F,{data:g.value,"row-key":"id",stripe:""},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{label:"序号",fixed:"left",width:"100","label-class-name":"table-index-label","class-name":"table-index"},{default:(0,t.w5)((e=>[(0,t.Uk)((0,u.zw)(e.$index+1),1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(w,(e=>((0,t.wg)(),(0,t.j4)(z,{key:e.prop,label:e.label,prop:e.prop,align:"center"},(0,t.Nv)({_:2},["actions"===e.prop?{name:"default",fn:(0,t.w5)((e=>[(0,t.Wm)(H,{type:"primary",plain:"",size:"small",onClick:l=>D(e.row)},{default:(0,t.w5)((()=>[f])),_:2},1032,["onClick"]),(0,t.Wm)(H,{type:"danger",plain:"",size:"small",onClick:l=>C(e.row)},{default:(0,t.w5)((()=>[b])),_:2},1032,["onClick"])]))}:void 0]),1032,["label","prop"])))),128))])),_:1},8,["data"]),(0,t.Wm)(m["default"],{modalVisible:v.value,modalTitle:_.value,modalData:V.value,onToggleVisible:U,onRefresh:W},null,8,["modalVisible","modalTitle","modalData"])])),_:1})}}});const g=w;var v=g},7928:function(e,l,a){a.r(l),a.d(l,{default:function(){return p}});var t=a(3396),u=a(4870),o=a(7178),n=a(6900),r=a(7094);const d=(0,t.Uk)("取消"),m=(0,t.Uk)("确定");var i=(0,t.aZ)({__name:"DepartmentModal",props:{modalVisible:{type:Boolean},modalTitle:null,modalData:null},emits:["toggleVisible","refresh"],setup(e,{emit:l}){const a=e,{departmentProps:i,departmentList:s,getDepartmentData:p}=(0,r.Z)(),c=(0,u.iH)(),f=(0,u.qj)({parentId:"",name:"",code:""}),b=(0,u.qj)({name:[{required:!0,message:"请输入部门名称！",trigger:"blur"}],code:[{required:!0,message:"请输入部门编号！",trigger:"blur"}]}),w=(0,u.iH)(1),g=(0,t.Fl)({get(){return a.modalVisible},set(){v()}});(0,t.YP)((()=>a.modalData),(e=>{(0,t.Y3)((()=>{w.value=2,Object.assign(f,e)}))})),(0,t.bv)((()=>{p()}));const v=()=>{c.value?.resetFields(),w.value=1,l("toggleVisible",!1)},_=e=>{e?.validate((a=>{a&&(1===w.value?(0,n.u4)(f).then((a=>{o.z8.success(a.data.message),e.resetFields(),l("toggleVisible",!1),l("refresh")})):(0,n.Dz)(f).then((a=>{o.z8.success(a.data.message),e.resetFields(),l("toggleVisible",!1),l("refresh")})))}))};return(l,a)=>{const o=(0,t.up)("el-tree-select"),n=(0,t.up)("el-form-item"),r=(0,t.up)("el-input"),p=(0,t.up)("el-form"),w=(0,t.up)("el-button"),V=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(V,{modelValue:(0,u.SU)(g),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,u.dq)(g)?g.value=e:null),title:e.modalTitle,width:"38%",draggable:"","close-on-click-modal":!1,"close-on-press-escape":!1,class:"custom-dialog"},{footer:(0,t.w5)((()=>[(0,t.Wm)(w,{onClick:a[3]||(a[3]=e=>v())},{default:(0,t.w5)((()=>[d])),_:1}),(0,t.Wm)(w,{onClick:a[4]||(a[4]=e=>_(c.value)),type:"primary"},{default:(0,t.w5)((()=>[m])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(p,{ref_key:"formRef",ref:c,model:f,rules:b,"label-width":"90px"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"上级部门",prop:"parentId"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{modelValue:f.parentId,"onUpdate:modelValue":a[0]||(a[0]=e=>f.parentId=e),data:(0,u.SU)(s),props:(0,u.SU)(i),"render-after-expand":!1,clearable:"","check-strictly":"",placeholder:"请选择上级部门"},null,8,["modelValue","data","props"])])),_:1}),(0,t.Wm)(n,{label:"部门名称",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:f.name,"onUpdate:modelValue":a[1]||(a[1]=e=>f.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"部门编号",prop:"code"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:f.code,"onUpdate:modelValue":a[2]||(a[2]=e=>f.code=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])}}});const s=i;var p=s}}]);
//# sourceMappingURL=766.66232952.js.map