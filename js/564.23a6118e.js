"use strict";(self["webpackChunksummary"]=self["webpackChunksummary"]||[]).push([[564,663],{7094:function(e,l,a){a.d(l,{Z:function(){return o}});var t=a(4870),u=a(6900);function o(){const e={children:"children",label:"name",value:"id"},l={children:"children",label:e=>e.meta.title,value:"id"},a=(0,t.iH)(),o=(0,t.iH)(),n=(0,t.iH)(),d=()=>{(0,u.E$)().then((e=>{a.value=e.data.result}))},r=()=>{(0,u.JV)().then((e=>{o.value=e.data.result}))},i=()=>{(0,u.Af)().then((e=>{n.value=e.data.result}))};return{departmentProps:e,menuProps:l,departmentList:a,roleList:o,menuList:n,getDepartmentData:d,getRoleData:r,getMenuData:i}}},8663:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});var t=a(3396),u=a(7139),o=a(4870),n=a(2748);const d=(0,t.Uk)("请选择图标"),r={class:"icon-container"},i={class:"icon-wrapper"},m=["onClick"],c={class:"label-name"};var p=(0,t.aZ)({__name:"IconSelector",props:{icon:null},emits:["onSelect"],setup(e,{emit:l}){const a=e,p=Object.keys(n),s=36,f=(0,o.iH)(1),g=(0,o.iH)(p.length),h=(0,o.iH)(),w=(0,o.iH)(),V=(0,o.iH)(p.slice(0,s));function v(e){l("onSelect",e),h.value.hide()}(0,t.YP)((()=>a.icon),(e=>{w.value=e}),{immediate:!0});const b=e=>{f.value=e,V.value=p.slice((e-1)*s,e*s)};return(e,l)=>{const a=(0,t.up)("el-button"),o=(0,t.up)("el-icon"),n=(0,t.up)("el-col"),p=(0,t.up)("el-row"),_=(0,t.up)("el-pagination"),W=(0,t.up)("el-popover");return(0,t.wg)(),(0,t.j4)(W,{ref_key:"iconPopover",ref:h,trigger:"click",width:386},{reference:(0,t.w5)((()=>[w.value?((0,t.wg)(),(0,t.j4)(a,{key:1,plain:""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(w.value)))])),_:1})])),_:1})):((0,t.wg)(),(0,t.j4)(a,{key:0},{default:(0,t.w5)((()=>[d])),_:1}))])),default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",i,[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.value,(e=>((0,t.wg)(),(0,t.j4)(n,{span:4,key:e},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"icon-item",onClick:l=>v(e)},[(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e)))])),_:2},1024),(0,t._)("div",c,(0,u.zw)(e),1)],8,m)])),_:2},1024)))),128))])),_:1})]),(0,t.Wm)(_,{small:"","page-size":s,"current-page":f.value,total:g.value,layout:"prev, pager, next",onCurrentChange:b},null,8,["current-page","total"])])])),_:1},512)}}}),s=a(89);const f=(0,s.Z)(p,[["__scopeId","data-v-e179aaa4"]]);var g=f},6564:function(e,l,a){a.r(l),a.d(l,{default:function(){return s}});var t=a(3396),u=a(4870),o=a(7178),n=a(7094),d=a(8663);const r={class:"custom-dialog-body scroll-bar-hidden"},i=(0,t.Uk)("取消"),m=(0,t.Uk)("确定");var c=(0,t.aZ)({__name:"MenuModal",props:{modalVisible:{type:Boolean},modalTitle:null,modalData:null},emits:["toggleVisible","refresh"],setup(e,{emit:l}){const a=e,{menuProps:c,menuList:p,getMenuData:s}=(0,n.Z)(),f=(0,u.iH)(),g=(0,u.qj)({parentId:"",name:"",path:"",component:"",redirect:"",meta:{title:"",icon:"",hidden:!1,hideChildren:!1,affix:!1,cache:!1}}),h=(0,u.qj)({"meta.title":[{required:!0,message:"请输入菜单名称！",trigger:"blur"}],name:[{required:!0,message:"请输入菜单编号！",trigger:"blur"}],path:[{required:!0,message:"请输入菜单地址！",trigger:"blur"}],component:[{required:!0,message:"请输入菜单页面路径！",trigger:"blur"}]}),w=(0,u.iH)(1),V=(0,t.Fl)({get(){return a.modalVisible},set(){b()}});(0,t.YP)((()=>a.modalData),(e=>{(0,t.Y3)((()=>{w.value=2,Object.assign(g,e)}))})),(0,t.bv)((()=>{s()}));const v=e=>{g.meta.icon=e},b=()=>{f.value?.resetFields(),w.value=1,l("toggleVisible",!1)},_=e=>{e?.validate((a=>{a&&(1===w.value?(o.z8.success("添加菜单成功！"),e.resetFields(),l("toggleVisible",!1),l("refresh")):(o.z8.success("编辑菜单成功！"),e.resetFields(),l("toggleVisible",!1),l("refresh")))}))};return(l,a)=>{const o=(0,t.up)("el-tree-select"),n=(0,t.up)("el-form-item"),s=(0,t.up)("el-input"),w=(0,t.up)("el-switch"),W=(0,t.up)("el-form"),k=(0,t.up)("el-button"),U=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(U,{modelValue:(0,u.SU)(V),"onUpdate:modelValue":a[12]||(a[12]=e=>(0,u.dq)(V)?V.value=e:null),title:e.modalTitle,width:"44%",draggable:"","close-on-click-modal":!1,"close-on-press-escape":!1,class:"custom-dialog"},{footer:(0,t.w5)((()=>[(0,t.Wm)(k,{onClick:a[10]||(a[10]=e=>b())},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(k,{onClick:a[11]||(a[11]=e=>_(f.value)),type:"primary"},{default:(0,t.w5)((()=>[m])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.Wm)(W,{ref_key:"formRef",ref:f,model:g,rules:h,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{label:"上级菜单",prop:"parentId"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{modelValue:g.parentId,"onUpdate:modelValue":a[0]||(a[0]=e=>g.parentId=e),data:(0,u.SU)(p),props:(0,u.SU)(c),"render-after-expand":!1,clearable:"","check-strictly":"",placeholder:"请选择部门"},null,8,["modelValue","data","props"])])),_:1}),(0,t.Wm)(n,{label:"菜单名称",prop:"meta.title"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:g.meta.title,"onUpdate:modelValue":a[1]||(a[1]=e=>g.meta.title=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"菜单编号",prop:"name"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:g.name,"onUpdate:modelValue":a[2]||(a[2]=e=>g.name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"菜单地址",prop:"path"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:g.path,"onUpdate:modelValue":a[3]||(a[3]=e=>g.path=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"菜单页面路径",prop:"component"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:g.component,"onUpdate:modelValue":a[4]||(a[4]=e=>g.component=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"重定向页面",prop:"redirect"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:g.redirect,"onUpdate:modelValue":a[5]||(a[5]=e=>g.redirect=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"图标",prop:"meta.icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(d["default"],{icon:g.meta.icon,onOnSelect:v},null,8,["icon"])])),_:1}),(0,t.Wm)(n,{label:"是否隐藏",prop:"meta.hidden"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:g.meta.hidden,"onUpdate:modelValue":a[6]||(a[6]=e=>g.meta.hidden=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"隐藏子页面",prop:"meta.hideChildren"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:g.meta.hideChildren,"onUpdate:modelValue":a[7]||(a[7]=e=>g.meta.hideChildren=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"是否固定",prop:"meta.affix"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:g.meta.affix,"onUpdate:modelValue":a[8]||(a[8]=e=>g.meta.affix=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(n,{label:"是否缓存",prop:"meta.cache"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:g.meta.cache,"onUpdate:modelValue":a[9]||(a[9]=e=>g.meta.cache=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}}});const p=c;var s=p}}]);
//# sourceMappingURL=564.23a6118e.js.map